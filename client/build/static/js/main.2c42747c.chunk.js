(this["webpackJsonpchainbreak-dev-client"]=this["webpackJsonpchainbreak-dev-client"]||[]).push([[0],{115:function(e,t){e.exports="data:image/png;base64,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"},116:function(e,t){e.exports="data:image/png;base64,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"},122:function(e,t,a){e.exports=a(221)},127:function(e,t,a){},146:function(e,t,a){e.exports=a.p+"static/media/bojo.721af529.jpg"},218:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),s=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(117),i=a(16),c=a(19),u=(a(127),a(10)),d=a(11),m=a(13),h=a(12),p=a(14),f=a(5),v=a(26),y=a.n(v),b="start",g="waiting",E="register",w="invalid_credentials",k="password_reset_sent",S="invalid_token",C="authenticated",O="positive",j="symptomatic",A="negative",T=function(e){return"/api/v1/"+e},x={SUCCESS:200,BAD_REQUEST:400,AUTHORISATION_FAILED:401,ERROR:500},N=function(e){return void 0!==e&&e.status===x.SUCCESS},D=function(e){return void 0===e||e.status===x.AUTHORIZATION_FAILED},P="update_j0ohn_hopkins_data_summary_world",R={storeJHCovidData:function(e){return{type:P,payload:e}},updateCurrentUser:function(e){return{type:"user_successfully_authenticated",payload:{user:e}}},getJHCovidData:function(){return{type:"request_john_hopkins_data_summary_world"}},getCurrentUser:function(){return{type:"get_current_user"}},handleShareCode:function(e){return{type:"handle_share_code",payload:{shareCode:e}}},saveShareCode:function(e){return{type:"save_share_code",payload:{shareCode:e}}},storeSelectedState:function(e){return{type:"store_user_covid_state",payload:{state:e}}},updateSettings:function(e){return{type:"save_settings",payload:{settings:e}}},logout:function(){return{type:"logout"}},storeLogout:function(){return{type:"store_logout"}},submitContactForm:function(e,t,a,n,r){return{type:"submit_contact_form",payload:{form_name:e,full_name:t,email:a,subject:n,message:r}}},getShareCode:function(){return{type:"get_user_share_code"}},storeUserShareCode:function(e){return{type:"store_user_Share_Code",payload:{token:e}}},getUserContacts:function(){return{type:"get_user_contacts"}},storeUserContacts:function(e){return{type:"store_user_contacts",payload:{contacts:e}}},storeSettings:function(e){return{type:"store_settings",payload:{settings:e}}},updateAuthState:function(e){return{type:"store_auth_state",payload:{state:e}}},clearShareCode:function(){return{type:"clear_share_code"}},updateUserPassword:function(e,t){return{type:"update_user_password",payload:{token:e,password:t}}},getPasswordResetToken:function(e){return{type:"get_password_reset_token",payload:{email:e}}},revealTokenOwner:function(e){return{type:"get_token_owner",payload:{token:e}}},storeScannedProfileResult:function(e,t){return{type:"store_token_owner_profile",payload:{profile:e,token:t}}},confirmConnection:function(e){return{type:"confirm_connection",payload:{id:e}}},storeConnection:function(e){return{type:"store_connection",payload:{profile:e}}},storeRegistrationDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"store_registration_details",payload:{settings:e}}},login:function(e){return{type:"login",payload:{settings:e}}},register:function(e){return{type:"register",payload:{settings:e}}},submitReport:function(e){return{type:"submit_covid_report",payload:{report:e}}},deleteAccount:function(){return{type:"delete_account"}},submitTestedPosPreviously:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"submit_tested_pos_prev",payload:{previously_tested_positive:e,date:t}}},storeCovidInstance:function(e){return{type:"store_new_status",payload:{covidInstance:e}}},deleteSelectedState:function(){return{type:"delete_covid_state"}},storeTestedPosPrev:function(e){return{type:"store_tested_pos_prev",payload:{testedPosPrev:e}}},updateLegalConsent:function(){return{type:"update_legal_consent"}},storeCurrentLegalConsent:function(){return{type:"store_current_legal_consent"}}},M=a(27),I=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getButtonClass=n.getButtonClass.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"getButtonClass",value:function(){var e="btn btn-",t="text-left";if(!this.props.status)return e+"outline-dark "+t;switch(this.props.status){case O:return e+"danger "+t;case j:return e+"warning "+t;case A:return e+"success "+t;default:return e+"dark"+t}}},{key:"render",value:function(){return r.a.createElement("div",{className:"profileCard"},r.a.createElement("button",{className:this.getButtonClass(),"data-toggle":"modal","data-target":"#profileDetailModal"},this.props.picture&&r.a.createElement("img",{src:this.props.picture,className:"profilePicutre",alt:"user"}),this.props.name))}}]),a}(r.a.Component),F=Object(p.c)()(I),_=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderConnections=n.renderConnections.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"componentWillMount",value:function(){this.props.dispatch(R.getUserContacts())}},{key:"renderConnections",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(i.b,{to:"/settings"},r.a.createElement(F,{name:this.props.user.name,status:this.props.user.status})),r.a.createElement("h3",null,"You're sharing with: ",this.props.connections.length),r.a.createElement(i.b,{to:"/connect"},r.a.createElement("button",{className:"btn btn-secondary"},"Connect More People"))),r.a.createElement("div",{className:"col-md-4"},this.props.connections.length>0&&this.props.connections.map((function(e,t){return r.a.createElement(i.b,{to:"/connection/"+e.id},r.a.createElement(F,{name:e.name,status:e.latest_report.state||null,key:t}))}))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"userProfile"},this.renderConnections())}}]),a}(r.a.Component);var B=Object(p.c)((function(e){return{user:e.user.profile,connections:e.user.contacts}}))(_),L=a(7),U=a.n(L),W=a(110),G=a(120),H=a(112),Y=a.n(H),X=(a(146),a(230)),V=a(231),z=a(232),J=a(233),q=a(234),Q=a(235),K=a(236),Z=a(237),$=a(238),ee=a(239),te=a(240),ae=a(241),ne="Hi I'm using the covid app",re=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).copyUrl=n.copyUrl.bind(Object(f.a)(n)),n.renderModalBody=n.renderModalBody.bind(Object(f.a)(n)),n.handleShareClick=n.handleShareClick.bind(Object(f.a)(n)),n.handleQRScanClick=n.handleQRScanClick.bind(Object(f.a)(n)),n.handleScan=n.handleScan.bind(Object(f.a)(n)),n.closeModal=n.closeModal.bind(Object(f.a)(n)),n.handleConnectClick=n.handleConnectClick.bind(Object(f.a)(n)),n.renderShareCode=n.renderShareCode.bind(Object(f.a)(n)),n.handleConfirmConnect=n.handleConfirmConnect.bind(Object(f.a)(n)),n.handleRejectConnect=n.handleRejectConnect.bind(Object(f.a)(n)),n.renderSharing=n.renderSharing.bind(Object(f.a)(n)),n.state={copiedUrl:!1,delay:100,scanResult:null,scannerActive:!1,connectButtonText:"Connect",flashMessage:""},n.sharingUrl=r.a.createRef(),n}return Object(d.a)(a,[{key:"componentWillMount",value:function(){this.props.dispatch(R.getShareCode())}},{key:"componentDidMount",value:function(){y()("#connectModal").modal("show")}},{key:"componentWillReceiveProps",value:function(e,t){!e.scannedProfileResult&&t.scannedProfileResult&&this.setState({flashMessage:""})}},{key:"copyUrl",value:function(){this.sharingUrl.current.select(),document.execCommand("copy"),this.setState({copiedUrl:!0})}},{key:"handleQRScanClick",value:function(){this.setState({scannerActive:!this.state.scannerActive,scanResult:null})}},{key:"closeModal",value:function(){this.setState({scannerActive:!1}),this.props.history.push("/")}},{key:"handleScan",value:function(e){if("string"==typeof e){var t=e.split("/")[4];this.props.dispatch(R.revealTokenOwner(t)),this.setState({scanResult:e,flashMessage:"loading profile..."})}}},{key:"handleError",value:function(e){window.alert(e)}},{key:"handleConnectClick",value:function(){this.setState({connectButtonText:"Connected"})}},{key:"handleShareClick",value:function(){var e=Object(W.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"COVID APP",text:ne,url:this.props.sharingUrl},e.prev=1,e.next=4,navigator.share(t);case 4:window.alert("shared"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),window.alert(e.t0);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleConfirmConnect",value:function(){this.props.dispatch(R.confirmConnection(this.props.scannedProfileResult.id)),this.props.history.push("/")}},{key:"handleRejectConnect",value:function(){this.setState({scanResult:null}),this.props.dispatch(R.storeScannedProfileResult(null))}},{key:"renderSharing",value:function(){return r.a.createElement(r.a.Fragment,null,!navigator.share&&r.a.createElement("div",{className:"sharingButtons"},r.a.createElement(X.a,{url:this.props.sharingUrl,subject:"COVID APP",body:ne},r.a.createElement(V.a,{round:!0})),r.a.createElement(z.a,{url:this.props.sharingUrl,quote:ne},r.a.createElement(J.a,{round:!0})),r.a.createElement(q.a,{url:this.props.sharingUrl,appId:"566073887380055",message:ne},r.a.createElement(Q.a,{round:!0})),r.a.createElement(K.a,{url:this.props.sharingUrl,quote:ne},r.a.createElement(Z.a,{round:!0})),r.a.createElement($.a,{url:this.props.sharingUrl,quote:ne},r.a.createElement(ee.a,{round:!0})),r.a.createElement(te.a,{url:this.props.sharingUrl,quote:ne},r.a.createElement(ae.a,{round:!0}))),navigator.share&&r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleShareClick},"Share Your Code"))}},{key:"renderShareCode",value:function(){return this.props.sharingUrl?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("input",{type:"text",class:"form-control",value:this.props.sharingUrl,ref:this.sharingUrl,readOnly:"true"}),r.a.createElement("div",{class:"input-group-append"},r.a.createElement("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.copyUrl},this.state.copiedUrl?"Copied":"Copy"))),this.renderSharing(),r.a.createElement("p",{align:"center"},"Or presnt your code for scanning:"),r.a.createElement(Y.a,{value:this.props.sharingUrl})):r.a.createElement("p",null,"Loading Code")}},{key:"renderModalBody",value:function(){return r.a.createElement("div",{className:"connectModal"},r.a.createElement("p",null,r.a.createElement("b",null,"Sharing is caring"),", the more people connected to you and this app, the easier it will be to break chains of transmission."),r.a.createElement("p",null,"Connect with the people you care about by sharing this link with them"),!this.state.scannerActive&&!this.state.scanResult&&this.renderShareCode(),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleQRScanClick},this.state.scannerActive?"Cancel":"Scan a code"),this.state.scannerActive&&!this.state.scanResult&&r.a.createElement(G.a,{delay:this.state.delay,onError:this.handleError,onScan:this.handleScan}),this.state.flashMessage,this.props.scannedProfileResult&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{name:this.props.scannedProfileResult.name}),r.a.createElement("button",{className:"btn btn-primary w-50",onClick:this.handleConfirmConnect},"Confirm"),r.a.createElement("button",{className:"btn btn-primary w-50",onClick:this.handleRejectConnect},"Cancel")))}},{key:"render",value:function(){return r.a.createElement("div",{class:"modal fade",id:"connectModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Connect"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.closeModal},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},this.renderModalBody(),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:this.closeModal},"Close"))))))}}]),a}(r.a.Component);var oe=Object(p.c)((function(e){return{sharingUrl:"https://dev.chainbreak.com/"+e.sharing.currentUserShareCode,scannedProfileResult:e.sharing.scannedTokenProfile}}))(Object(c.g)(re)),se=["notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1","notification 1"],le=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){y()("#notificationsModal").modal("show")}},{key:"render",value:function(){return r.a.createElement("div",{className:"notificationsModal"},r.a.createElement("div",{class:"modal fade",id:"notificationsModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Notifications"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},se.map((function(e,t){return r.a.createElement(ie,{text:e,key:t})}))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal"},"Close"))))))}}]),a}(r.a.Component),ie=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"notification"},this.props.text)}}]),a}(r.a.Component),ce=Object(p.c)()(le),ue=a(46),de=a.n(ue),me=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).saveSettings=n.saveSettings.bind(Object(f.a)(n));var r=e.user;return n.state={name:r.name,email:r.email,gender:r.gender,dob:r.dob,city:r.city,county:r.county,country:r.country,phone:r.phone,notifications_on:r.notifications_on,autosharing_on:r.autosharing_on,interested_ppe:r.interested_ppe,interested_htk:r.interested_htk,confirmDeleteAccount:!1},n}return Object(d.a)(a,[{key:"saveSettings",value:function(){var e={name:this.state.name,email:this.state.email,gender:this.state.gender,dob:this.state.dob,city:this.state.city,county:this.state.county,country:this.state.country,phone:this.state.phone,notifications_on:this.state.notifications_on,autosharing_on:this.state.autosharing_on,interested_ppe:this.state.interested_ppe,interested_htk:this.state.interested_htk},t=this.props.user;e.name===t.name&&delete e.name,e.email===t.email&&delete e.email,e.gender===t.gender&&delete e.gender,e.dob===t.dob&&delete e.dob,e.city===t.city&&delete e.city,e.county===t.county&&delete e.county,e.country===t.country&&delete e.country,e.phone===t.phone&&delete e.phone,e.notifications_on===t.notifications_on&&delete e.notifications_on,e.autosharing_on===t.autosharing_on&&delete e.autosharing_on,e.interested_ppe===t.interested_ppe&&delete e.interested_ppe,e.interested_htk===t.interested_htk&&delete e.interested_htk,this.props.history.goBack(),this.props.dispatch(R.updateSettings(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"settings"},r.a.createElement("input",{type:"text",placeholder:"Display Name",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}}),r.a.createElement("input",{type:"text",placeholder:"email",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}}),r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"customRadioInline1",name:"sexRadioInline1",class:"custom-control-input",checked:"male"===this.state.gender,onChange:function(t){e.setState({gender:"male"})}}),r.a.createElement("label",{class:"custom-control-label",for:"customRadioInline1"},"Male")),r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"customRadioInline2",name:"sexRadioInline1",class:"custom-control-input",checked:"female"===this.state.gender,onChange:function(t){e.setState({gender:"female"})}}),r.a.createElement("label",{class:"custom-control-label",for:"customRadioInline2"},"Female")),r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"customRadioInline3",name:"sexRadioInline1",class:"custom-control-input",checked:"other"===this.state.gender,onChange:function(t){e.setState({gender:"other"})}}),r.a.createElement("label",{class:"custom-control-label",for:"customRadioInline3"},"Other")),r.a.createElement("div",{className:"dob"},"Date of birth:",r.a.createElement(de.a,{selected:this.state.dob,onChange:function(t){e.setState({dob:t})},peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!0,placeholderText:"Date Of Birth",maxDate:new Date,dateFormat:"dd/MM/yyyy"})),r.a.createElement("input",{type:"text",placeholder:"City",value:this.state.city,onChange:function(t){e.setState({city:t.target.value})}}),r.a.createElement("input",{type:"text",placeholder:"County",value:this.state.county,onChange:function(t){e.setState({county:t.target.value})}}),r.a.createElement("input",{type:"text",placeholder:"Country",value:this.state.country,onChange:function(t){e.setState({country:t.target.value})}}),r.a.createElement("input",{type:"text",placeholder:"Phone Number",value:this.state.phone,onChange:function(t){e.setState({phone:t.target.value})}}),r.a.createElement("div",{class:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"toggleNotifications",checked:this.state.notifications_on,onChange:function(t){e.setState({notifications_on:t.target.checked})}}),r.a.createElement("label",{class:"custom-control-label",for:"toggleNotifications"},"Notifications")),r.a.createElement("div",{class:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"toggleAutosharing",checked:this.state.autosharing_on,onChange:function(t){e.setState({autosharing_on:t.target.checked})}}),r.a.createElement("label",{class:"custom-control-label",for:"toggleAutosharing"},"Share my status")),r.a.createElement("div",{class:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"togglePpe",checked:this.state.interested_ppe,onChange:function(t){e.setState({interested_ppe:t.target.checked})}}),r.a.createElement("label",{class:"custom-control-label",for:"togglePpe"},"I'm interested in PPE")),r.a.createElement("div",{class:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"toggleHtk",checked:this.state.interested_htk,onChange:function(t){e.setState({interested_htk:t.target.checked})}}),r.a.createElement("label",{class:"custom-control-label",for:"toggleHtk"},"I'm interested in Home Testing Kits")),r.a.createElement("a",{onClick:function(){e.setState({confirmDeleteAccount:!0})}},"Delete Account"),r.a.createElement("br",null),this.state.confirmDeleteAccount&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"This action will permenantly delete your account and all data associated with it. This action cannot be reversed."),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.props.history.push("/"),e.props.dispatch(R.deleteAccount())}},"Delete Account"),r.a.createElement("button",{className:"btn btn-success",onClick:function(){e.setState({confirmDeleteAccount:!1})}},"Cancel")),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-primary",onClick:this.saveSettings},"Save"))}}]),a}(r.a.Component);var he=Object(p.c)((function(e){return{user:e.user.profile}}))(Object(c.g)(me)),pe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){y()("#settingsModal").modal("show")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"modal fade",id:"settingsModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Settings"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){e.props.history.push("/")}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},r.a.createElement(he,null)),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:function(){e.props.history.push("/")}},"Close")))))}}]),a}(r.a.Component);var fe=Object(p.c)((function(e){return{user:e.user.profile}}))(Object(c.g)(pe)),ve=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderModalContent=n.renderModalContent.bind(Object(f.a)(n)),n.closeModal=n.closeModal.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){y()("#profileDetailModal").modal("show")}},{key:"renderModalContent",value:function(){var e=this,t=this.props.connections.find((function(t){return t.id==e.props.match.params.userID}));return r.a.createElement("div",{className:"profileDetail"},t.name)}},{key:"closeModal",value:function(){this.props.history.goBack()}},{key:"render",value:function(){return r.a.createElement("div",{class:"modal fade",id:"profileDetailModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Connection"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},this.renderModalContent()),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:this.closeModal},"Close")))))}}]),a}(r.a.Component);var ye=Object(p.c)((function(e){return{connections:e.user.contacts}}))(Object(c.g)(ve)),be=a(35),ge=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n.renderTestedPosBefore=n.renderTestedPosBefore.bind(Object(f.a)(n)),n.state={optionSelected:!1,testedPosPreviously:!1,date:null},n}return Object(d.a)(a,[{key:"handleSubmit",value:function(){try{var e=new Date(this.state.date);this.state.testedPosPreviously&&(new Date).getDate()-e.getDate()<7&&(this.props.dispatch(R.storeSelectedState(O)),this.props.setPosTestDate(this.state.date)),this.props.dispatch(R.submitTestedPosPreviously(this.state.testedPosPreviously,e))}catch(t){window.alert(t.message)}}},{key:"renderTestedPosBefore",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Please provide the date you tested positive."),r.a.createElement(de.a,{selected:this.state.date,onChange:function(t){(new Date).getDate()-t.getDate()<7&&e.setState({currentlyPositive:!0}),e.setState({date:t})},isClearable:!0,placeholderText:"Enter Date",maxDate:new Date,dateFormat:"dd/MM/yyyy"}),this.state.currentlyPositive&&r.a.createElement("p",null,"You have tested positive in the last 7 days. Your status will be updated to red."))}},{key:"render",value:function(){var e=this;return r.a.createElement(be.a,{centered:!0,show:this.props.show,onHide:this.hide},r.a.createElement(be.a.Header,{closeButton:!0},r.a.createElement(be.a.Title,{id:"contained-modal-title-vcenter"},"It's your first time...")),r.a.createElement(be.a.Body,null,r.a.createElement("div",{className:"firstTimeModal"},r.a.createElement("p",null,"It is important to know if you have ever previously tested positive for COVID-19."),r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"customRadioInline1",name:"customRadioInline1",class:"custom-control-input",onChange:function(){e.setState({optionSelected:!0,testedPosPreviously:!0})},checked:this.state.optionSelected&&this.state.testedPosPreviously}),r.a.createElement("label",{class:"custom-control-label",for:"customRadioInline1"},"I have tested positive for COVID-19 before.")),r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"customRadioInline2",name:"customRadioInline1",class:"custom-control-input",onChange:function(){e.setState({optionSelected:!0,testedPosPreviously:!1})},checked:this.state.optionSelected&&!this.state.testedPosPreviously}),r.a.createElement("label",{class:"custom-control-label",for:"customRadioInline2"},"I have NOT tested positive for COVID-19 before.")),this.state.testedPosPreviously&&this.renderTestedPosBefore())),r.a.createElement(be.a.Footer,null,r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit,disabled:!this.state.optionSelected},"Continue")))}}]),a}(r.a.Component),Ee=Object(p.c)()(ge),we=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={dateSymptomsStarted:null,dateTestedPositive:null,noSymptoms:null,dateTestedNegative:null,noFeverLast24h:null,symptomsImproved:null,symptomsNotImproved:null,feverLast24h:null,optionSelectedNoFeverLast24h:null,optionSelectedSymptomsImproved:null,currentStatus:null,nextStatus:null,valid:!1},n.handleBack=n.handleBack.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n.startGreen=n.startGreen.bind(Object(f.a)(n)),n.startAmber=n.startAmber.bind(Object(f.a)(n)),n.startRed=n.startRed.bind(Object(f.a)(n)),n.greenToGreen=n.greenToGreen.bind(Object(f.a)(n)),n.greenToAmber=n.greenToAmber.bind(Object(f.a)(n)),n.greenToRed=n.greenToRed.bind(Object(f.a)(n)),n.amberToGreen=n.amberToGreen.bind(Object(f.a)(n)),n.amberToAmber=n.amberToAmber.bind(Object(f.a)(n)),n.amberToRed=n.amberToRed.bind(Object(f.a)(n)),n.redToGreen=n.redToGreen.bind(Object(f.a)(n)),n.redToAmber=n.redToAmber.bind(Object(f.a)(n)),n.redToRed=n.redToRed.bind(Object(f.a)(n)),n.validateGreenToGreen=n.validateGreenToGreen.bind(Object(f.a)(n)),n.validateGreenToAmber=n.validateGreenToAmber.bind(Object(f.a)(n)),n.validateGreenToRed=n.validateGreenToRed.bind(Object(f.a)(n)),n.validateAmberToGreen=n.validateAmberToGreen.bind(Object(f.a)(n)),n.validateAmberToAmber=n.validateAmberToAmber.bind(Object(f.a)(n)),n.validateAmberToRed=n.validateAmberToRed.bind(Object(f.a)(n)),n.validateRedToGreen=n.validateRedToGreen.bind(Object(f.a)(n)),n.validateRedToAmber=n.validateRedToAmber.bind(Object(f.a)(n)),n.validateRedToRed=n.validateRedToRed.bind(Object(f.a)(n)),n.validateStartGreen=n.validateStartGreen.bind(Object(f.a)(n)),n.validateStartAmber=n.validateStartAmber.bind(Object(f.a)(n)),n.validateStartRed=n.validateStartRed.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"componentWillMount",value:function(){this.setState({currentStatus:this.props.profile.status});var e=this.validate();this.setState({nextStatus:e})}},{key:"componentDidUpdate",value:function(e,t){var a=this.validate();this.state.nextStatus!=a&&this.setState({nextStatus:a})}},{key:"handleBack",value:function(){window.location.reload(!1)}},{key:"validate",value:function(){switch(this.state.currentStatus){case A:switch(this.props.selectedState){case A:return this.validateGreenToGreen();case j:return this.validateGreenToAmber();case O:return this.validateGreenToRed()}case j:switch(this.props.selectedState){case A:return this.validateAmberToGreen();case j:return this.validateAmberToAmber();case O:return this.validateAmberToRed()}case O:switch(this.props.selectedState){case A:return this.validateRedToGreen();case j:return this.validateRedToAmber();case O:return this.validateRedToRed()}default:switch(this.props.selectedState){case A:return this.validateStartGreen();case j:return this.validateStartAmber();case O:return this.validateStartRed()}}}},{key:"handleSubmit",value:function(){if(this.state.currentStatus===this.state.nextStatus)this.props.dispatch(R.deleteSelectedState());else{var e={dateSymptomsStarted:this.state.dateSymptomsStarted,dateTestedPositive:this.state.dateTestedPositive,dateTestedNegative:this.state.dateTestedNegative,nextStatus:this.state.nextStatus};this.props.dispatch(R.submitReport(e))}}},{key:"renderSymptomsBox",value:function(){var e=this;return r.a.createElement("div",{className:"symptomsBox"},r.a.createElement("p",null,"Chainbreak only considers the main symptoms of Covid-19 to try to prevent false alarms from common colds:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Fever (38+ C / 100.4+ F) - chest feels hot to touch,"),r.a.createElement("li",null,"New continious cough,"),r.a.createElement("li",null,"Loss of tate or smell,"),r.a.createElement("li",null,"Breathing difficulties.")),r.a.createElement(de.a,{selected:this.state.dateSymptomsStarted,onChange:function(t){e.setState({dateSymptomsStarted:t})},isClearable:!0,placeholderText:"Enter Date",maxDate:new Date,dateFormat:"dd/MM/yyyy"}))}},{key:"renderPostitiveTestDate",value:function(){var e=this;return r.a.createElement("div",{className:"positiveTestDateBox"},r.a.createElement("p",null,"Please enter the date you most recently tested positive:"),r.a.createElement(de.a,{selected:this.state.dateTestedPositive,onChange:function(t){e.setState({dateTestedPositive:t})},isClearable:!0,placeholderText:"Enter Date",maxDate:new Date,dateFormat:"dd/MM/yyyy"}))}},{key:"renderNegativeTestDate",value:function(){var e=this;return r.a.createElement("div",{className:"negativeTestDateBox"},r.a.createElement("p",null,"Please enter the date that you tested negative:"),r.a.createElement(de.a,{selected:this.state.dateTestedNegative,onChange:function(t){e.setState({dateTestedNegative:t})},isClearable:!0,placeholderText:"Enter Date",maxDate:new Date,dateFormat:"dd/MM/yyyy"}))}},{key:"renderReportDetails",value:function(){switch(this.state.currentStatus){case A:switch(this.props.selectedState){case A:return this.greenToGreen();case j:return this.greenToAmber();case O:return this.greenToRed()}case j:switch(this.props.selectedState){case A:return this.amberToGreen();case j:return this.amberToAmber();case O:return this.amberToRed()}case O:switch(this.props.selectedState){case A:return this.redToGreen();case j:return this.redToAmber();case O:return this.redToRed()}default:switch(this.props.selectedState){case A:return this.startGreen();case j:return this.startAmber();case O:return this.startRed()}}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"reportDetails"},r.a.createElement("h3",null,"You're Reporting: ",this.props.selectedState),r.a.createElement("h3",null,"Your Current Status Is: ",this.state.currentStatus),null==this.props.profile.previously_tested_positive&&r.a.createElement(Ee,{show:!0,setPosTestDate:function(t){e.setState({dateTestedPositive:t})}}),r.a.createElement("hr",null),this.renderReportDetails(),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleBack},"Back"),r.a.createElement("button",{className:"btn btn-primary float-right",onClick:this.handleSubmit,disabled:!this.state.nextStatus},"Submit"))}},{key:"startGreen",value:function(){return r.a.createElement("p",null,"This will set your state to green. This can be changed at any time.")}},{key:"validateStartGreen",value:function(){return A}},{key:"startAmber",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"This will set your state to amber. You will only be able to change back to green with 2 negative tests taken within 24 hours. You should take a test, if you test positive you should record that here."),this.renderSymptomsBox())}},{key:"validateStartAmber",value:function(){return null!==this.state.dateSymptomsStarted?j:null}},{key:"startRed",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You're going straight to red. We need to know when your symptoms started."),!this.state.noSymptoms&&this.renderSymptomsBox(),"OR",r.a.createElement("br",null),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"checkbox",value:this.state.noSymptoms,onChange:function(t){e.setState({noSymptoms:t.target.checked}),t.target.checked&&e.setState({dateSymptomsStarted:null})},id:"noSymptomsCheck"}),r.a.createElement("label",{class:"form-check-label",for:"defaultCheck1"},"I have had no symptoms.")),this.renderPostitiveTestDate())}},{key:"validateStartRed",value:function(){return this.state.noSymptoms?null!==this.state.positiveTestDate?O:null:null!==this.state.dateSymptomsStarted&&null!==this.state.positiveTestDate?O:null}},{key:"greenToGreen",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You're still green, that's great news."))}},{key:"validateGreenToGreen",value:function(){return A}},{key:"greenToAmber",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"This will set you state to amber. You will only be able to change back to green with 2 negative tests taken within 24 hours. You should take a test, if you test positive you should record that here."),this.renderSymptomsBox())}},{key:"validateGreenToAmber",value:function(){return null!==this.state.dateSymptomsStarted?j:null}},{key:"greenToRed",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You're going from green straight to red. We need to know when your symptoms started."),!this.state.noSymptoms&&this.renderSymptomsBox(),"OR",r.a.createElement("br",null),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"checkbox",value:this.state.noSymptoms,onChange:function(t){e.setState({noSymptoms:t.target.checked})},id:"noSymptomsCheck"}),r.a.createElement("label",{class:"form-check-label",for:"defaultCheck1"},"I have had no symptoms.")),this.renderPostitiveTestDate())}},{key:"validateGreenToRed",value:function(){return this.state.noSymptoms?null!==this.state.positiveTestDate?O:null:null!==this.state.dateSymptomsStarted&&null!==this.state.positiveTestDate?O:null}},{key:"amberToGreen",value:function(){var e=this;return(new Date).getDate()-new Date(this.props.profile.covid_instance.date_symptoms_started).getDate()<=7?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"As you reported your symptoms started within the last 7 days, you may only change your status to green if you have tested negative for coronavirus since then."),this.renderNegativeTestDate()):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"As your symptoms started 7 - 14 days ago you may change your status to green if you have either:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Tested negative:",this.renderNegativeTestDate()),r.a.createElement("li",null,"OR Confirmed that:",r.a.createElement("ul",null,r.a.createElement("li",null,"Your symptoms have improved, ",r.a.createElement("em",null,"and"),r.a.createElement("input",{type:"checkbox",checked:this.state.symptomsImproved,onChange:function(t){e.setState({symtpomsImproved:t.target.checked})}})),r.a.createElement("li",null,"you have not had a fever in the last 24 hours",r.a.createElement("input",{type:"checkbox",checked:this.state.noFeverLast24h,onChange:function(t){e.setState({noFeverLast24h:t.target.checked})}}))))))}},{key:"validateAmberToGreen",value:function(){return(new Date).getDate()-new Date(this.props.profile.covid_instance.date_symptoms_started).getDate()<=7?null!==this.state.dateSymptomsStarted?A:void 0:null!==this.state.dateTestedNegative||this.state.symptomsImproved&&this.state.noFeverLast24h?A:null}},{key:"amberToAmber",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You've still got symptoms."))}},{key:"validateAmberToAmber",value:function(){return j}},{key:"amberToRed",value:function(){var e=this,t=(new Date).getDate()-new Date(this.props.profile.covid_instance.date_symptoms_started).getDate();return console.log(t),t<7?this.renderPostitiveTestDate():r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"As you tested positive (and symptoms started) over 7 days aho you may now change your status to red if you can confirm:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Your symptoms have not improved, ",r.a.createElement("em",null,"or"),r.a.createElement("input",{type:"checkbox",checked:this.state.symptomsNotImproved,onChange:function(t){e.setState({symptomsNotImproved:t.target.checked}),e.validateAmberToRed()}})),r.a.createElement("li",null,"you have had a fever in the last 24 hours",r.a.createElement("input",{type:"checkbox",checked:this.state.feverLast24h,onChange:function(t){e.setState({feverLast24h:t.target.checked}),e.validateAmberToRed()}}))),!this.state.symptomsNotImproved&&!this.state.feverLast24h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Please confirm:"),r.a.createElement("ol",null,r.a.createElement("li",null,"If your symptoms have improved",r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"radioSymptomsImproved",name:"customRadioInline1",class:"custom-control-input",onChange:function(){e.setState({optionSelectedSymptomsImproved:!0,symptomsImproved:!0}),e.validateAmberToRed()},checked:this.state.optionSelectedSymptomsImproved&&this.state.symptomsImproved}),r.a.createElement("label",{class:"custom-control-label",for:"radioSymptomsImproved"},"Yes")),r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"radioSymptomsImproved2",name:"customRadioInline1",class:"custom-control-input",onChange:function(){e.setState({optionSelectedSymptomsImproved:!0,symptomsImproved:!1}),e.validateAmberToRed()},checked:this.state.optionSelectedSymptomsImproved&&!this.state.symptomsImproved}),r.a.createElement("label",{class:"custom-control-label",for:"radioSymptomsImproved2"},"No"))),r.a.createElement("li",null,"If you have had a fever in the last 24h",r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"radioNoFeverLast24h",name:"customRadioInline2",class:"custom-control-input",onChange:function(){e.setState({optionSelectedNoFeverLast24h:!0,noFeverLast24h:!0}),e.validateAmberToRed()},checked:this.state.optionSelectedNoFeverLast24h&&this.state.noFeverLast24h}),r.a.createElement("label",{class:"custom-control-label",for:"radioNoFeverLast24h"},"Yes")),r.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:"radioNoFeverLast24h2",name:"customRadioInline2",class:"custom-control-input",onChange:function(){e.setState({optionSelectedNoFeverLast24h:!0,noFeverLast24h:!1}),e.validateAmberToRed()},checked:this.state.optionSelectedNoFeverLast24h&&!this.state.noFeverLast24h}),r.a.createElement("label",{class:"custom-control-label",for:"radioNoFeverLast24h2"},"No")))),!this.state.symptomsNotImproved&&!this.state.feverLast24h&&this.state.symptomsImproved&&this.state.noFeverLast24h&&r.a.createElement("p",null,"Great News! You are likely to have recovered from COVID-19. Because you tested positive (and symptoms started over 7 days ago) AND your symptoms have improved AND you have had no fever in the past 24 hours you are unlikely to be contagious so your status is being set to green.")))}},{key:"validateAmberToRed",value:function(){return(new Date).getDate()-new Date(this.props.profile.covid_instance.date_symptoms_started).getDate()<=7?null!==this.state.dateTestedPositive?O:null:this.state.symptomsNotImproved||this.state.feverLast24h||this.state.symptomsImproved&&this.state.noFeverLast24h?O:null}},{key:"redToGreen",value:function(){var e=21-((new Date).getDate()-new Date(this.props.profile.covid_instance.date_symptoms_started).getDate());return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You cannot change your state to green. This will happen automatically in ",e," days."))}},{key:"validateRedToGreen",value:function(){return O}},{key:"redToAmber",value:function(){var e=21-((new Date).getDate()-new Date(this.props.profile.covid_instance.date_symptoms_started).getDate());return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You cannot change your state to amber. It will automatically go green in ",e," days."))}},{key:"validateRedToAmber",value:function(){return O}},{key:"redToRed",value:function(){var e=21-((new Date).getDate()-new Date(this.props.profile.covid_instance.date_symptoms_started).getDate());return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You're still red. It will automatically go green in ",e," days."))}},{key:"validateRedToRed",value:function(){return O}}]),a}(r.a.Component);var ke=Object(p.c)((function(e){return{selectedState:e.user.selectedState,profile:e.user.profile}}))(Object(c.g)(we)),Se=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderSymptomatic=n.renderSymptomatic.bind(Object(f.a)(n)),n.renderTestedPositive=n.renderTestedPositive.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"renderTestedPositive",value:function(){return r.a.createElement("div",{classNAme:"advicePage"},r.a.createElement("h2",null,"Your State is now RED"),r.a.createElement("p",null,"Advice"))}},{key:"renderSymptomatic",value:function(){return r.a.createElement("div",{classNAme:"advicePage"},r.a.createElement("h2",null,"Your State is now AMBER"),r.a.createElement("p",null,"Advice"))}},{key:"render",value:function(){return this.props.newState?this.props.newState===O?this.renderTestedPositive():this.renderSymptomatic():null}}]),a}(r.a.Component);var Ce=Object(p.c)((function(e){return{newState:e.user.newState}}))(Se),Oe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={agreed:!1},n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"handleSubmit",value:function(){this.props.dispatch(R.updateLegalConsent())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Our policies have been updated, you are required to read, understand and agree to our legal terms before you may proceed and access your account."),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"checkbox",value:this.state.agreed,onChange:function(t){e.setState({agreed:t.target.checked})},id:"noSymptomsCheck"}),r.a.createElement("label",{class:"form-check-label",for:"defaultCheck1"},"I agree to the updated ",r.a.createElement(i.b,{to:"/privacy"},"Privacy Policy"),", ",r.a.createElement(i.b,{to:"/term"},"Terms")," and ",r.a.createElement(i.b,{to:"/disclaimer"},"Disclaimer"),".")),r.a.createElement("button",{className:"btn btn-primary",disabled:!this.state.agreed,onClick:this.handleSubmit},"Continue"))}}]),a}(r.a.Component),je=Object(p.c)()(Oe),Ae=a(20),Te=a.n(Ae),xe=a(49),Ne=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleResend=n.handleResend.bind(Object(f.a)(n)),n.state={waiting:!1},n}return Object(d.a)(a,[{key:"handleResend",value:function(){var e=this;this.setState({waiting:!0}),Te()({method:"GET",url:T("send-email-verification"),withCredentials:!0,validateStatus:function(){return!0}}).then((function(){e.setState({waiting:!1})})).catch((function(t){e.setState({waiting:!1})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You have not verified your email address, please go to ",this.props.email," and paste the link provided into your browser."),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleResend},this.state.waiting&&r.a.createElement(xe.a,{animation:"border",size:"sm"}),!this.state.waiting&&"Resend Email"))}}]),a}(r.a.Component);var De=Object(p.c)((function(e){return{email:e.user.profile.email}}))(Ne),Pe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).closeAllModals=n.closeAllModals.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"closeAllModals",value:function(){y()(".modal").modal("hide")}},{key:"componentWillMount",value:function(){this.props.history.push("/")}},{key:"renderLegalConsent",value:function(){return r.a.createElement(je,null)}},{key:"renderVerifyEmail",value:function(){return r.a.createElement(De,null)}},{key:"renderReportDetails",value:function(){return r.a.createElement(ke,null)}},{key:"renderAdvicePage",value:function(){return r.a.createElement(Ce,null)}},{key:"renderNormal",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement(c.b,{path:"/"},this.closeAllModals()),r.a.createElement(c.b,{path:["/login","/gdpr-consent","password-reset-token/*"]},r.a.createElement(c.a,{to:"/"})),r.a.createElement(c.b,{path:"/notifications"},r.a.createElement(ce,null)),r.a.createElement(c.b,{path:"/settings"},r.a.createElement(fe,null)),r.a.createElement(c.b,{path:"/connect"},r.a.createElement(oe,null)),r.a.createElement(c.b,{path:"/connection/:userID"},r.a.createElement(ye,null)))}},{key:"render",value:function(){return this.props.user.email_verified?this.props.user.current_legal_consent?this.props.selectedState?this.renderReportDetails():this.props.newState?this.renderAdvicePage():this.renderNormal():this.renderLegalConsent():this.renderVerifyEmail()}}]),a}(r.a.Component);var Re=Object(p.c)((function(e){return{user:e.user.profile,selectedState:e.user.selectedState,newState:e.user.newState}}))(Object(c.g)(Pe)),Me=a(28),Ie=a(59),Fe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",stayLoggedIn:!1},n.handleLogin=n.handleLogin.bind(Object(f.a)(n)),n.handleForgotPassword=n.handleForgotPassword.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"handleForgotPassword",value:function(){this.props.dispatch(R.getPasswordResetToken(this.state.email))}},{key:"handleLogin",value:function(){this.props.dispatch(R.login({email:this.state.email,password:this.state.password,stayLoggedIn:this.state.stayLoggedIn}))}},{key:"renderAuthentication",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",placeholder:"email address",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"enter / set password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("div",{class:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"persistentLoginCheck",checked:this.state.stayLoggedIn,onChange:function(){return e.setState({stayLoggedIn:!e.state.stayLoggedIn})}}),r.a.createElement("label",{class:"custom-control-label",for:"persistentLoginCheck"},"Stay logged in")),this.props.userAuthState===w&&"Failed - Email address registered, password incorrect.",r.a.createElement(i.b,{to:"/password-reset/"+this.state.email},"Email password reset"))}},{key:"renderPositive",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You're reporting that you've tested positive recently."),r.a.createElement("p",null,"Login or sign up:"))}},{key:"renderSymptomatic",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You're reporting that you've recently had symptoms."),r.a.createElement("p",null,"Login or sign up:"))}},{key:"renderNegitive",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You're reporting that you're symptom free."),r.a.createElement("p",null,"Login or sign up:"))}},{key:"render",value:function(){return r.a.createElement(be.a,{centered:!0,show:this.props.show,onHide:this.props.onHide},r.a.createElement(be.a.Header,{closeButton:!0},r.a.createElement(be.a.Title,{id:"contained-modal-title-vcenter"},this.props.selectedState===O&&"Tested Positive",this.props.selectedState===A&&"Symptom Free",this.props.selectedState===j&&"Symtomatic")),r.a.createElement(be.a.Body,null,this.props.selectedState===O&&this.renderPositive(),this.props.selectedState===A&&this.renderNegitive(),this.props.selectedState===j&&this.renderSymptomatic(),this.renderAuthentication()),r.a.createElement(be.a.Footer,null,r.a.createElement(Ie.a,{onClick:this.handleLogin},this.props.userAuthState===b&&"Continue",this.props.userAuthState===g&&r.a.createElement(xe.a,{animation:"border",size:"sm"}))))}}]),a}(r.a.Component);var _e=Object(p.c)((function(e){return{userAuthState:e.user.authState}}))(Fe),Be=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={selectedState:null},n}return Object(d.a)(a,[{key:"handleStatusButtonClick",value:function(e,t){this.setState({selectedState:t}),this.props.dispatch(R.storeSelectedState(t))}},{key:"renderColourButtons",value:function(){var e=this;return r.a.createElement("div",{className:"updateStatus"},r.a.createElement("div",{className:"row no-gutters-sm"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"button",className:"btn colour-button positive",onClick:function(t){e.handleStatusButtonClick(t,O)}},r.a.createElement("div",{className:"d-none d-md-block"},"Tested Positive \xa0\xa0",r.a.createElement(M.a,{icon:Me.d}))))),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"button",className:"btn colour-button symptomatic",onClick:function(t){e.handleStatusButtonClick(t,j)}},r.a.createElement("div",{className:"d-none d-md-block"},"Got Symptoms \xa0\xa0",r.a.createElement(M.a,{icon:Me.f}))))),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"button",className:"btn colour-button negative",onClick:function(t){e.handleStatusButtonClick(t,A)}},r.a.createElement("div",{className:"d-none d-md-block"},"No Symptoms \xa0\xa0",r.a.createElement(M.a,{icon:Me.g})))))),r.a.createElement(_e,{selectedState:this.state.selectedState,onHide:function(){return e.setState({selectedState:null})},show:null!==this.state.selectedState}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderColourButtons())}}]),a}(r.a.Component),Le=Object(p.c)()(Object(c.g)(Be)),Ue=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"landingArea"},r.a.createElement("div",{className:"title text-center"},r.a.createElement("h2",{className:"d-none d-md-inline"},"Protect your family, friends & yourself instantly"),r.a.createElement("h3",{className:"d-inline d-md-none"},"Protect your family, friends",r.a.createElement("br",null)," & yourself instantly"),r.a.createElement("div",{className:"landing-container"},r.a.createElement("p",null,"No tracking ",r.a.createElement(M.a,{icon:Me.h})," No tracing ",r.a.createElement(M.a,{icon:Me.h}))),r.a.createElement("p",{className:"positive"},"Trust people you know ",r.a.createElement(M.a,{icon:Me.c}))),r.a.createElement("p",null,r.a.createElement("b",null,"1. Update your status now to login:")),r.a.createElement(Le,null),r.a.createElement("div",{className:"landing-container"},r.a.createElement("p",null,r.a.createElement("b",null,"2. Privately share your status:"))),r.a.createElement("div",{className:"stepTwo row"},r.a.createElement("div",{className:"col-xs-12 col-md-4 text-center"},r.a.createElement(M.a,{icon:Me.i}),r.a.createElement("br",null),"Choose contacts to see each others status \u2013 know when social distancing is required"),r.a.createElement("div",{className:"col-xs-12 col-md-4 text-center"},r.a.createElement(M.a,{icon:Me.b}),r.a.createElement("br",null),"Receive immediate notification if friends status gets worse \u2013 they may need help"),r.a.createElement("div",{className:"col-xs-12 col-md-4 text-center"},r.a.createElement(M.a,{icon:Me.e}),r.a.createElement("br",null),"Reduce the spread of coronavirus between friends \u2013 help beat Covid-19"),r.a.createElement("div",{className:"col-12 text-center landing-container"},r.a.createElement("br",null),r.a.createElement("h3",null,"The Real Magic"))),r.a.createElement("div",{className:"landing-container"},r.a.createElement("p",null,"As your friends protect their friends and so on, and more people join Total So Far\u2026  the more we all reduce the spread of the virus overall so the better for everybody.")),r.a.createElement("div",{className:"landing-container"},r.a.createElement("p",null,"Share... blah blah blah ",r.a.createElement(i.b,{to:"/share"},"Click here"))))}}]),a}(r.a.Component);var We=Object(p.c)((function(e){return{userAuthenticated:e.user.authenticated,user:e.user.profile}}))(Ue),Ge=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={name:"",email:"",password:"",legalConsent:!1},n.handleLogin=n.handleLogin.bind(Object(f.a)(n)),n.handleRegister=n.handleRegister.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.registrationDetails&&(this.setState({email:this.props.registrationDetails.email,password:this.props.registrationDetails.password,stayLoggedIn:this.props.registrationDetails.longLogin}),window.scrollTo(0,0))}},{key:"handleRegister",value:function(){this.props.dispatch(R.register({name:this.state.name,email:this.state.email,password:this.state.password,legalConsent:this.state.legalConsent}))}},{key:"handleLogin",value:function(){this.props.dispatch(R.login({email:this.state.email,password:this.state.password,legalConsent:this.state.legalConsent}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"registration-form"},r.a.createElement("h2",null,"Nearly There..."),r.a.createElement("p",null,"Your email wasn't recognised, you need to create an account or correct your details."),r.a.createElement("input",{type:"text",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})},placeholder:"email"}),r.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){e.setState({password:t.target.value})},placeholder:"password"}),r.a.createElement("div",{class:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"persistentLoginCheck",checked:this.state.stayLoggedIn,onChange:function(){return e.setState({stayLoggedIn:!e.state.stayLoggedIn})}}),r.a.createElement("label",{class:"custom-control-label",for:"persistentLoginCheck"},"Stay logged in")),r.a.createElement("br",null),r.a.createElement(Ie.a,{className:"",onClick:this.handleLogin},this.props.userAuthState==E&&"Continue with different email",this.props.userAuthState==g&&r.a.createElement(xe.a,{animation:"border",size:"sm"})),r.a.createElement("hr",null),r.a.createElement("h4",{className:"text-center"},"Continue Registration:"),r.a.createElement("input",{type:"text",placeholder:"Display Name",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}}),r.a.createElement("p",null,"I have read and understand the ",r.a.createElement(i.b,{to:"/privacy"},"Privacy Policy"),", ",r.a.createElement(i.b,{to:"/terms"},"Terms")," and ",r.a.createElement(i.b,{to:"/disclaimer"},"Disclaimer"),", the latest versions of which are detailed in these links, and confirm that I am at least 13 years old."),r.a.createElement("div",{class:"custom-control custom-checkbox text-center"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"legalConsentCheck",checked:this.state.legalConsent,onChange:function(){return e.setState({legalConsent:!e.state.legalConsent})}}),r.a.createElement("label",{class:"custom-control-label",for:"legalConsentCheck"},"I confirm the above.")),r.a.createElement("hr",null),r.a.createElement(Ie.a,{className:"",disabled:!this.state.legalConsent,onClick:this.handleRegister},this.props.userAuthState==E&&"Register",this.props.userAuthState==g&&r.a.createElement(xe.a,{animation:"border",size:"sm"})))}}]),a}(r.a.Component);var He=Object(p.c)((function(e){return{userAuthState:e.user.authState,registrationDetails:e.user.registrationDetails}}))(Ge),Ye=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={password1:"",password2:"",submitDisabled:!0,infoText:"password needs to be 8 characters or more"},n.submitForm=n.submitForm.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"handleInputChange",value:function(e){var t=this.state;"pass1"===e.target.id?t.password1=e.target.value:t.password2=e.target.value,this.state.password1!==this.state.password2&&(t.infoText="passwords do not match"),this.state.password1.length<8&&(t.infoText="passwords must be 8 characters or more"),t.password1.length>=8&&t.password1==t.password2&&(t.infoText="",t.submitDisabled=!1),this.setState(t)}},{key:"submitForm",value:function(){this.props.dispatch(R.updateUserPassword(this.props.match.params.token,this.state.password1))}},{key:"renderForm",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Reset Password"),r.a.createElement("input",{type:"password",value:this.state.password1,id:"pass1",onChange:function(t){return e.handleInputChange(t)}}),r.a.createElement("input",{type:"password",value:this.state.password2,id:"pass2",onChange:function(t){return e.handleInputChange(t)}}),r.a.createElement("p",null,this.state.infoText),r.a.createElement("button",{className:"btn btn-primary",disabled:this.state.submitDisabled,onClick:this.submitForm},"Submit"))}},{key:"renderError",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Reset token was invalid - perhaps it has already been used or it expired, they are only valid for 10 minutes!"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"passwordReset"},this.props.authState==S&&this.renderError(),this.props.authState!=S&&this.renderForm())}}]),a}(r.a.Component);var Xe=Object(p.c)((function(e){return{authState:e.user.authState}}))(Ye),Ve=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(R.handleShareCode(this.props.match.params.shareCode))}},{key:"render",value:function(){return r.a.createElement("p",null,"This is a message from Chainbreak!")}}]),a}(r.a.Component),ze=Object(p.c)()(Ve),Je=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={email:null},n}return Object(d.a)(a,[{key:"componentWillMount",value:function(){this.setState({email:this.props.match.params.email})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Enter you email below and click submit to receive a link to reset your password via email. If you cannot remember your email or no longer have access to it you will need to create a new account."),r.a.createElement("input",{type:"text",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}}),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.props.dispatch(R.getPasswordResetToken(e.state.email))}},"Submit"))}}]),a}(r.a.Component),qe=Object(p.c)()(Je),Qe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleFbAuth=n.handleFbAuth.bind(Object(f.a)(n)),n.handleGoogleAuth=n.handleGoogleAuth.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"handleFbAuth",value:function(){return null}},{key:"handleGoogleAuth",value:function(){return null}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/oauth/facebook",render:function(){return e.handleFbAuth()}}),r.a.createElement(c.b,{exact:!0,path:"/oauth/google",render:function(){return e.handleGoogleAuth()}}),r.a.createElement(c.b,{exact:!0,path:"/connect/:shareCode",render:function(e){return r.a.createElement(ze,e)}}),r.a.createElement(c.b,{exact:!0,path:"/password-reset-token/:token",render:function(e){return r.a.createElement(Xe,e)}}),r.a.createElement(c.b,{exact:!0,path:"/password-reset/:email?",render:function(e){return r.a.createElement(qe,e)}}),r.a.createElement(c.b,{path:"*"},r.a.createElement(c.a,{to:"/"}),(this.props.userAuthState==b||this.props.userAuthState==g)&&r.a.createElement(We,null),this.props.userAuthState==E&&r.a.createElement(He,null))))}}]),a}(r.a.Component),Ke=Object(p.c)((function(e){return{covidState:e.user.covidState,userAuthState:e.user.authState}}))(Object(c.g)(Qe)),Ze=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.userAuthState===C&&r.a.createElement(Re,null),!this.props.userAuthState!==C&&r.a.createElement(Ke,null))}}]),a}(r.a.Component);var $e=Object(p.c)((function(e){return{userAuthState:e.user.authState}}))(Ze),et=a(115),tt=a.n(et),at=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).ref=r.a.createRef(),n.handleScroll=n.handleScroll.bind(Object(f.a)(n)),n.getClasses=n.getClasses.bind(Object(f.a)(n)),n.state={fixed:!1},n}return Object(d.a)(a,[{key:"handleScroll",value:function(){window.scrollY>40?this.setState({fixed:!0}):window.scrollY<=40&&this.setState({fixed:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"getClasses",value:function(){return!0===this.state.fixed?"mobileMenu-container fixed":"mobileMenu-container"}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:this.getClasses(),ref:this.ref},r.a.createElement("div",{className:"container-sm"},r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menuItem",onClick:function(){e.props.history.push("/settings"),e.props.closeMenu()}},"Settings"),r.a.createElement("div",{className:"menuItem",onClick:function(){e.props.dispatch(R.logout()),e.props.closeMenu()}},"Log out")))),r.a.createElement("div",{className:"menuBackground",onClick:this.props.closeMenu}))}}]),a}(r.a.Component),nt=Object(p.c)()(Object(c.g)(at)),rt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).closeMenu=n.closeMenu.bind(Object(f.a)(n)),n.renderThreeBarMenu=n.renderThreeBarMenu.bind(Object(f.a)(n)),n.state={menuOpen:!1},n}return Object(d.a)(a,[{key:"closeMenu",value:function(){this.setState({menuOpen:!1})}},{key:"renderThreeBarMenu",value:function(){var e=this;if(this.props.authState===C)return r.a.createElement("button",{type:"button",className:"btn btn-primary d-inline",onClick:function(){e.setState({menuOpen:!e.state.menuOpen})}},r.a.createElement(M.a,{icon:Me.a}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section navBar"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"align-middle"},r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{src:tt.a}))))))),r.a.createElement("div",{className:"col"},r.a.createElement("table",{className:"float-right"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.renderThreeBarMenu()))))))),this.state.menuOpen&&r.a.createElement(nt,{closeMenu:this.closeMenu}))}}]),a}(r.a.Component);var ot=Object(p.c)((function(e){return{authState:e.user.authState}}))(rt);function st(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var lt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentWillMount",value:function(){this.props.dispatch(R.getJHCovidData())}},{key:"renderLoggedOut",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-md-none text-center"},r.a.createElement("h1",null,"Coronavirus",r.a.createElement("br",null)," Warning System")),r.a.createElement("div",{className:"d-none d-md-inline text-center"},r.a.createElement("h1",{className:"superBig"},"Coronavirus Warning System")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 text-center dead"},r.a.createElement("div",{className:"d-inline d-md-none"},r.a.createElement("h4",null,st(this.props.totalDead)),r.a.createElement("h5",null,"Dead")),r.a.createElement("div",{className:"d-none d-md-inline"},r.a.createElement("h2",null,st(this.props.totalDead)),r.a.createElement("h3",null,"Dead"))),r.a.createElement("div",{className:"col-4 text-center confirmed"},r.a.createElement("div",{className:"d-inline d-md-none"},r.a.createElement("h4",null,st(this.props.totalConfirmed)),r.a.createElement("h5",null,"Confirmed")),r.a.createElement("div",{className:"d-none d-md-inline"},r.a.createElement("h2",null,st(this.props.totalConfirmed)),r.a.createElement("h3",null,"Confirmed"))),r.a.createElement("div",{className:"col-4 text-center recovered"},r.a.createElement("div",{className:"d-inline d-md-none"},r.a.createElement("h4",null,st(this.props.totalRecovered)),r.a.createElement("h5",null,"Recovered")),r.a.createElement("div",{className:"d-none d-md-inline"},r.a.createElement("h2",null,st(this.props.totalRecovered)),r.a.createElement("h3",null,"Recovered")))))}},{key:"getStatusButtonClass",value:function(){switch(this.props.user.currentStatus){case O:return"btn btn-danger";case j:return"btn btn-warning";case A:return"btn btn-success";default:return"UNKNOWN STATUS"}}},{key:"getStatusButtonText",value:function(){switch(this.props.user.currentStatus){case O:return"TESTED POSITIVE";case j:return"SHOWING SYMPTOMS";case A:return"RECOVERED / CLEAR";default:return"UNKNOWN STATUS"}}},{key:"renderLoggedIn",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-md-none text-center"},r.a.createElement("h1",null,"Coronavirus",r.a.createElement("br",null)," Warning System")),r.a.createElement("div",{className:"d-none d-md-inline text-center"},r.a.createElement("h1",{className:"superBig"},"Coronavirus Warning System")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"section header headerLogin banner"},this.props.userAuthenticated&&this.renderLoggedIn(),!this.props.userAuthenticated&&this.renderLoggedOut())}}]),a}(r.a.Component);var it=Object(p.c)((function(e){return{userAuthenticated:e.user.authenticated,user:e.user.profile,totalDead:e.jhCovidData.worldTotal.totalDead,totalConfirmed:e.jhCovidData.worldTotal.totalConfirmed,totalRecovered:e.jhCovidData.worldTotal.totalRecovered}}))(Object(c.g)(lt)),ct=a(116),ut=a.n(ct),dt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"section footer banner"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-6 text-center text-md-left"},r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{src:ut.a}),r.a.createElement("br",null)),"Targeting Coronavirus Together"),r.a.createElement("div",{className:"col-sm-12 col-md-6"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(i.b,{to:"privacy"},"Privacy")),r.a.createElement("div",{className:"col-4"},r.a.createElement(i.b,{to:"disclaimer"},"Disclaimer")),r.a.createElement("div",{className:"col-4"},r.a.createElement(i.b,{to:"/contact"},"Contact Us")),r.a.createElement("div",{className:"col-4"},r.a.createElement(i.b,{to:"terms"},"Terms")),r.a.createElement("div",{className:"col-4"},r.a.createElement(i.b,{to:"cookies"},"Cookies")),r.a.createElement("div",{className:"col-4 tiny-text"},"\xa9 2020 TotalSoFar.com")))))}}]),a}(r.a.Component),mt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderModalContent=n.renderModalContent.bind(Object(f.a)(n)),n.submitForm=n.submitForm.bind(Object(f.a)(n)),n.closeModal=n.closeModal.bind(Object(f.a)(n)),n.state={name:"",email:"",subject:"",message:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){y()("#contactUsFormModal").modal("show"),this.props.user&&this.setState({email:this.props.user.email,name:this.props.user.name})}},{key:"renderModalContent",value:function(){var e=this;return r.a.createElement("div",{className:"contactForm"},r.a.createElement("input",{type:"text",placeholder:"full name",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}}),r.a.createElement("input",{type:"text",placeholder:"email address",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}}),r.a.createElement("input",{type:"text",placeholder:"subject",value:this.state.subject,onChange:function(t){e.setState({subject:t.target.value})}}),r.a.createElement("textarea",{rows:"8",placeholder:"message",value:this.state.message,onChange:function(t){e.setState({message:t.target.value})}}))}},{key:"submitForm",value:function(){this.props.dispatch(R.submitContactForm("contact_us",this.state.name,this.state.email,this.state.subject,this.state.message)),this.props.history.goBack()}},{key:"closeModal",value:function(){this.props.history.goBack()}},{key:"render",value:function(){return r.a.createElement("div",{class:"modal fade",id:"contactUsFormModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Contact Us"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.closeModal},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},this.renderModalContent()),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:this.closeModal},"Close"),r.a.createElement("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:this.submitForm},"Submit")))))}}]),a}(r.a.Component);var ht=Object(p.c)((function(e){return e.user?{user:e.user.profile}:{}}))(Object(c.g)(mt)),pt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderModalContent=n.renderModalContent.bind(Object(f.a)(n)),n.closeModal=n.closeModal.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){y()("#shareAppModal").modal("show")}},{key:"renderModalContent",value:function(){return r.a.createElement("h1",null,"Share App")}},{key:"closeModal",value:function(){this.props.history.goBack()}},{key:"render",value:function(){return r.a.createElement("div",{class:"modal fade",id:"shareAppModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Talk About Us"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},this.renderModalContent()),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:this.closeModal},"Close")))))}}]),a}(r.a.Component),ft=Object(p.c)()(Object(c.g)(pt)),vt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"policy-page"},r.a.createElement("h2",null,"Disclaimer"),r.a.createElement("h3",null,"THIS APP DOES NOT PROVIDE MEDICAL ADVICE"),r.a.createElement("p",null,"Total So Far\u2026 Ltd enables users to share their self-assessed coronavirus status and cannot control whether the statuses provided by users are correct. Total So Far\u2026 Ltd  accepts no responsibility for any errors in the statuses (however caused) or any repercussions of relying on such. The intention is to reduce transmission of Covid-19 but there is no guarantee using our App will do that."),r.a.createElement("p",null,"If you have any questions about a medical condition always seek the advice of a qualified health professional. None of the content of our App is intended to replace medical advice. If you think you have a medical emergency, call your doctor or emergency services immediately. Reliance on any information provided by TotalSoFar\u2026 Ltd or its employees or other users of our App is solely at your own risk and does not mean that you or anybody else will not contract Covid-19."),r.a.createElement("p",null,"Total So Far\u2026 Ltd accepts no responsibility or liability for the accuracy, content, completeness, legality or reliability of the information found on our APP which is provided \u2018as is\u2019 for informational purposes only and without warranty of any kind. We shall not be liable for any loss or damage of whatever nature (direct, indirect, consequential or other) whether arising in contract, tort or otherwise, which may arise as a result of your use of (or failure to use) the information on our App. Furthermore, Total So Far\u2026 Ltd is not responsible for any failure of our App to operate as it was intended."))}}]),a}(r.a.Component),yt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"policy-page"},r.a.createElement("h2",null,"Terms of Service"),r.a.createElement("h4",null,"Last updated: 20/07/2020"),r.a.createElement("p",null,"Please read these Terms of Service (Terms) carefully before using the TotalSoFar.com web app (the Service) operated by Total So Far\u2026 Ltd (us, we, or our). Your access to and use of the Service is conditional upon your acceptance of and compliance with these Terms. These Terms apply to all visitors, users and others who access or use the Service. By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms then you may not access the Service."),r.a.createElement("h3",null,"Termination"),r.a.createElement("p",null,"We may terminate or suspend access to our Service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. All provisions of the Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability."),r.a.createElement("h3",null,"Content"),r.a.createElement("p",null,"Our Service allows you to share your coronavirus status with your contacts in accordance with our ",r.a.createElement("a",{href:"/privacy"},"Privacy Policy.")," You are responsible for the accuracy of your coronavirus status."),r.a.createElement("p",null,"If you submit a red status (tested positive) you will not be able to change your status until you:"),r.a.createElement("ol",null,r.a.createElement("li",null,"provide the date you subsequently test negative for coronavirus, or"),r.a.createElement("li",null,"after 28 days from testing positive when your status will automatically be changed to green (no symptoms).")),r.a.createElement("p",null,"If you submit an amber status (got symptoms) and do not update it for 14 days it will automatically be changed to green (no symptoms)."),r.a.createElement("p",null,"If your status is changed automatically this will be shown to your contacts who are sharing their status with you until you subsequently update your status."),r.a.createElement("h3",null,"Links To Other Web Sites"),r.a.createElement("p",null,"Our Service may contain links to third-party web sites or services that are not owned or controlled by us. Total So Far\u2026 Ltd has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party web sites or services. You further acknowledge and agree that we shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with use of or reliance on any such content, goods or services available on or through any such web sites or services."),r.a.createElement("h3",null,"Changes"),r.a.createElement("p",null,"We reserve the right, at our sole discretion, to modify or replace these Terms at any time."),r.a.createElement("h3",null,"Contact Us"),r.a.createElement("p",null,"If you have any questions about these Terms, please contact us."))}}]),a}(r.a.Component),bt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"policy-page"},r.a.createElement("h2",null,"Privacy Policy"),r.a.createElement("h3",null,"Last updated 20/07/2020"),r.a.createElement("p",null,"TotalSoFar.com is a web app (our App) operated by Total So Far\u2026 Ltd a British company registered in England and Wales at Suite 1, 39 Ludgate Hill, London EC4M 7JN with registration number 12705587. We are committed to protecting the privacy and security of your personal information (data) and are registered with the Information Commissioner\u2019s Office (reference number ZA769008)."),r.a.createElement("p",null,"This privacy policy tells you what data our App collects and what we do with that information both during and after your use of our App, in accordance with the General Data Protection Regulation (GDPR) and the California Consumer Privacy Act (CCPA). Total So Far... is a data controller. This means that we are responsible for deciding how and why your data is used by the App, both during and after your use. This policy transparently outlines those decisions and your rights."),r.a.createElement("h3",null,"Data protection principles"),r.a.createElement("p",null,"We comply with data protection law which requires that data we hold about you must be:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Used lawfully in a transparent way"),r.a.createElement("li",null,"Collected for valid purposes that have been clearly explained to you"),r.a.createElement("li",null,"Relevant and limited to those valid purposes"),r.a.createElement("li",null,"Accurate and current"),r.a.createElement("li",null,"Kept for only as long as necessary"),r.a.createElement("li",null,"Kept securely")),r.a.createElement("h3",null,"Data we hold about you"),r.a.createElement("p",null,"Personal information (or data) means any information from which you can be identified. It does not include any information where your identity has been removed making it anonymous. Health data is classed as Special Category data which requires a higher level of protection."),r.a.createElement("p",null,"We may collect, store and use the following types of data about you:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Contact data - such as names, email address and phone number"),r.a.createElement("li",null,"Profile data -  including age, gender, location and picture"),r.a.createElement("li",null,"Account data -  including password and ID number"),r.a.createElement("li",null,"Usage data - such as browser type and version, pages of the App you visit, the time and date you visit, how long you spent on the pages you visit, unique device identifiers, IP address and other diagnostics."),r.a.createElement("li",null,"Health data - coronavirus status, results and dates of virus and antibody tests")),r.a.createElement("h3",null,"Data collection"),r.a.createElement("p",null,"We collect your data when you sign-up for or log-in to an account in the App. You either provide that data yourself or we collect it from a Single Sign On provider if you choose to use one. We also collect data through your use of the App such as when you adjust settings."),r.a.createElement("h3",null,"Data use"),r.a.createElement("p",null,"We will only use your data where it is legal to do so. We will use your data in the following circumstances:"),r.a.createElement("ol",null,r.a.createElement("li",null,"With your consent (explicit where required), or"),r.a.createElement("li",null,"Where necessary to further our or a third party\u2019s legitimate interests where they are not overridden by your own fundamental rights and interests, or"),r.a.createElement("li",null,"Where we need to comply with a legal obligation.")),r.a.createElement("h3",null,"Why we use your data and the legal bases for doing so:"),r.a.createElement("p",null,"Contact data - We use your contact details to open and operate your account and our App. We may use your contact data to contact you with information about our goods or services that may be of interest to you. You may opt out of receiving these communications from us by following the unsubscribe link or instructions provided in any email we send or within the settings page of our App. We rely upon legitimate interests to ensure the proper operation, growth and success of our business."),r.a.createElement("p",null,"Profile details - We use your profile data for administrative purposes and for the operation our APP. We may also anonymize this data to use it for other purposes. We rely upon legitimate interests to ensure the proper operation, growth and success of our business."),r.a.createElement("p",null,"Account data - We use your account data to operate our App. We rely upon legitimate interests to ensure the proper operation, growth and success of our business."),r.a.createElement("p",null,"Usage data - We use your usage data to analyse the use and performance of our App and to make improvements to it. We rely upon legitimate interests to ensure the proper operation, growth and success of our business."),r.a.createElement("p",null,"Health details - We use your health data for the operation of our App by sharing it with other users that you have chosen. We rely upon your explicit consent which is collected when you sign-up for an account, or reactivate an account or contact in our App."),r.a.createElement("h3",null,"Withdrawal of Consent"),r.a.createElement("p",null,"Withdrawing your consent will not affect the legality of any processing that took place prior to such withdrawal. You may choose to stop sharing your health data on our App entirely by deactivating your account within the settings page of our App. Withdrawing your consent will mean you can no longer share status with any other users of our App: You will no longer see the status of any contacts you were sharing with and they will no longer be able to see yours. You will be required to provide fresh explicit consent in order to reactivate your account."),r.a.createElement("h3",null,"Change of purpose"),r.a.createElement("p",null,"We may use your data for any purpose that is compatible with the original purpose. If we need to use your data for an unrelated purpose we will update this policy outlining the new purpose and the legal basis which allows us to do so."),r.a.createElement("h3",null,"Data sharing through the App"),r.a.createElement("p",null,"Our App enables you to privately share your coronavirus status (health data) with contacts you choose. If both you and your contact agree to share status, then you are both able to see each other\u2019s data. It is always a two-way deal, only if you can see their status can they see yours. Sharing of status occurs when you or your contact signs-up or logs-in via a personal link shared between you. Personal links are automatically generated within accounts on our App in order for you to invite your contacts to share your status."),r.a.createElement("h3",null,"Data sharing by us"),r.a.createElement("p",null,"We do not sell your data. We may share your data with third parties where required by law, to administer our relationship with you or to provide you with a service related to your use of our App such as IT or analytics, for example Google Analytics which reports website traffic. Google collects data which it shares with other Google services. You can opt-out of having your activity on the App made available to Google Analytics by installing the Google Analytics opt-out browser add-on. For more information on the privacy practices of Google, please visit the Google Privacy & Terms web page ",r.a.createElement("a",{href:"http://www.google.com/intl/en/policies/privacy/"},"here")),r.a.createElement("p",null,"All third parties are similarly required to comply with data protection laws and to take appropriate security measures to protect your data and must only use your data for specified permitted purposes. If we are involved in a merger, acquisition or sale, your data may be transferred. We will provide notice before your data becomes subject to a different privacy policy. We may need to share your data with our professional advisors, the authorities or the courts in certain situations. For example to enforce our rights or to defend ourselves against claims made against us or to investigate (suspected) wrongdoings or to protect the users of our App. Where the law permits, we may also share your anonymized data without your knowledge or consent."),r.a.createElement("h3",null,"Third party sites"),r.a.createElement("p",null,"Our App may contain links to other sites that are not operated by us. If you click a third-party link, you will be directed to that third party's site. We strongly advise you to review the privacy notice of every site you visit. We have no control over, and assume no responsibility for the content, privacy policies or practices of any third-party sites or services."),r.a.createElement("h3",null,"Data security"),r.a.createElement("p",null,"The security of your data is paramount and while we strive to use commercially acceptable means to protect your Personal Data, including the use of SSL, digital signatures and encrypted servers, no method of data storage or transmission over the Internet is 100% secure."),r.a.createElement("h3",null,"Data retention"),r.a.createElement("p",null,"We will only retain your personal information for as long as necessary to fulfil the purposes we collected it for, including for the purposes of satisfying any legal, accounting, or reporting requirements."),r.a.createElement("h3",null,"Transfer of data"),r.a.createElement("p",null,"Your data may be transferred to, and maintained on computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ to those from your jurisdiction. No transfer of your data will take place to an organization or a country unless there are adequate controls in place including the security of your data and other personal information. Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."),r.a.createElement("h3",null,"Use of cookies"),r.a.createElement("p",null,"We use cookies and similar technologies to monitor and analyse the activity on our App and we hold certain information collected via cookies. For more information please refer to our Cookies Policy."),r.a.createElement("h3",null,"Notification of changes by us"),r.a.createElement("p",null,"Total So Far\u2026 reserves the right to modify this Privacy Policy at any time and without notice. We do so by posting the updated policy on our App with the date of the change. Your continued use of our App constitutes your formal acceptance of the new Privacy Policy. You are advised to regularly check this policy for any changes."),r.a.createElement("h3",null,"Notification of changes by you"),r.a.createElement("p",null,"It is important that the personal information we hold about you is accurate and current. Please keep us informed if your personal information changes. You can update your data in your account settings via our App."),r.a.createElement("h3",null,"Accessing your own data"),r.a.createElement("p",null,"You should not have to pay a fee to access your own data (or to exercise any of your other rights). However, we may charge a reasonable fee if your request for access is clearly unfounded or excessive; you may access all the data we hold in your account settings page on our App. Alternatively, we may refuse to comply with the request in such circumstances. We may need to request specific information from you to help us confirm your identity and ensure your right to access the data (or to exercise any of your other rights). This is another appropriate security measure to ensure that your data is not disclosed to any person who has no right to receive it."),r.a.createElement("h3",null,"Data Protection Officer"),r.a.createElement("p",null,"We have appointed a Data Protection Officer to oversee compliance with this privacy policy. If you have any questions about this privacy policy or wish to exercise any of your rights in respect of your personal information, please contact our Data Protection Officer at Total So Far\u2026 Ltd, Suite 1, 39 Ludgate Hill, London EC4M 7JN United Kingdom or via our App. You also have the right to make a complaint about our processing of your data at any time to your local data protection authority or the Information Commissioner\u2019s Office (ICO)."))}}]),a}(r.a.Component);var gt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container-sm"},r.a.createElement(ot,null),r.a.createElement(it,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/privacy"},r.a.createElement(bt,null)),r.a.createElement(c.b,{path:"/terms"},r.a.createElement(yt,null)),r.a.createElement(c.b,{path:"/disclaimer"},r.a.createElement(vt,null)),r.a.createElement(c.b,{path:"/"},r.a.createElement($e,null),r.a.createElement(c.b,{path:"/contact"},r.a.createElement(ht,null)),r.a.createElement(c.b,{path:"/share"},r.a.createElement(ft,null)))),r.a.createElement(dt,null)))},Et=(a(218),a(219),a(220),a(44)),wt=a(118),kt=a(38),St={authState:b,profile:null,covidState:null,contacts:[],registrationDetails:null};function Ct(e,t){var a=A;return t.payload.user.covid_instance&&(a=t.payload.covidInstance.status),Object.assign({},e,{authState:C,profile:Object(kt.a)(Object(kt.a)({},t.payload.user),{},{dob:new Date(t.payload.user.dob),status:a})})}function Ot(e,t){return Object.assign({},e,{profile:null,authState:b,authenticated:!1})}function jt(e,t){return Object.assign({},e,{profile:Object(kt.a)(Object(kt.a)({},e.profile),{},{gdpr_consented:t.payload.consented})})}function At(e,t){return Object.assign({},e,{selectedState:t.payload.state})}function Tt(e,t){return Object.assign({},e,{selectedState:null})}function xt(e,t){return Object.assign({},e,{profile:t.payload.settings})}function Nt(e,t){return Object.assign({},e,{authState:t.payload.state})}function Dt(e){var t=[];return e.forEach((function(e){0===t.length&&t.push(e),-1===t.find((function(t){return t.id===e.id}))&&t.push(e)})),t}function Pt(e,t){return Object.assign({},e,{contacts:Dt(e.contacts.concat(t.payload.profile))})}function Rt(e,t){return Object.assign({},e,{contacts:Dt(t.payload.contacts)})}function Mt(e,t){return Object.assign({},e,{registrationDetails:t.payload.settings})}function It(e,t){var a=A;return t.payload.covidInstance&&(a=t.payload.covidInstance.status),Object.assign({},e,{profile:Object(kt.a)(Object(kt.a)({},e.profile),{},{status:a,covid_instance:t.payload.covidInstance||null})})}function Ft(e,t){return Object.assign({},e,{profile:Object(kt.a)(Object(kt.a)({},e.profile),{},{previously_tested_positive:t.payload.testedPosPrev})})}function _t(e,t){return Object.assign({},e,{profile:Object(kt.a)(Object(kt.a)({},e.profile),{},{current_legal_consent:!0})})}function Bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"user_successfully_authenticated":return Ct(e,t);case"store_logout":return Ot(e);case"store_gdpr_consent":return jt(e,t);case"store_user_covid_state":return At(e,t);case"delete_covid_state":return Tt(e);case"store_user_contacts":return Rt(e,t);case"store_settings":return xt(e,t);case"store_auth_state":return Nt(e,t);case"store_connection":return Pt(e,t);case"store_registration_details":return Mt(e,t);case"store_new_status":return It(e,t);case"store_tested_pos_prev":return Ft(e,t);case"store_current_legal_consent":return _t(e)}return e}var Lt={data:[]};function Ut(e,t){var a=e.app.data.findIndex((function(e,a){return e.key===t.payload.data.key}));if(-1===a)return Object.assign({},e,{data:e.cms.data.concat(t.payload.data)});var n=Array.from(e.cms.data);return n[a]=t.payload.data,Object.assign({},e,{data:n})}function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"store_policy":return Ut(e,t)}return e}var Gt={worldTotal:{totalDead:0,totalConfirmed:0,totalRecovered:0}};function Ht(e,t){return Object.assign({},e,{worldTotal:{totalDead:t.payload.totalDead,totalConfirmed:t.payload.totalConfirmed,totalRecovered:t.payload.totalRecovered}})}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Ht(e,t)}return e}var Xt={shareCode:null,currentUserShareCode:"",scannedTokenProfile:null,tempScanConfirmToken:null};function Vt(e,t){return Object.assign({},e,{shareCode:t.payload.shareCode})}function zt(e,t){return Object.assign({},e,{currentUserShareCode:t.payload.token})}function Jt(e,t){return Object.assign({},e,{shareCode:null})}function qt(e,t){return Object.assign({},e,{scannedTokenProfile:t.payload.profile,tempScanConfirmToken:t.payload.token})}function Qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"save_share_code":return Vt(e,t);case"store_user_Share_Code":return zt(e,t);case"clear_share_code":return Jt(e);case"store_token_owner_profile":return qt(e,t)}return e}var Kt=function(e){return Object(Et.c)({user:Bt,cms:Wt,jhCovidData:Yt,sharing:Qt,router:Object(wt.a)(e)})},Zt=a(8),$t=U.a.mark(sa),ea=U.a.mark(la),ta=U.a.mark(ia),aa=U.a.mark(ca),na=U.a.mark(ua),ra=U.a.mark(da),oa=function(e){return e.sharing.shareCode};function sa(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("login",U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.c)(R.storeRegistrationDetails(t.payload.settings));case 2:return e.next=4,Object(Zt.c)(R.updateAuthState(g));case 4:return e.next=6,Object(Zt.b)((function(){return Te()({method:"POST",url:T("login-email"),withCredentials:!0,validateStatus:function(){return!0},data:{settings:t.payload.settings}})}));case 6:if(a=e.sent,!N(a)){e.next=23;break}if("register"!==a.data){e.next=13;break}return e.next=11,Object(Zt.c)(R.updateAuthState(E));case 11:e.next=23;break;case 13:return e.next=15,Object(Zt.c)(R.storeRegistrationDetails(null));case 15:return e.next=17,Object(Zt.d)(oa);case 17:if(!(n=e.sent)){e.next=21;break}return e.next=21,Object(Zt.c)(R.handleShareCode(n));case 21:return e.next=23,Object(Zt.c)(R.updateCurrentUser(a.data.user));case 23:if(!D(a)){e.next=26;break}return e.next=26,Object(Zt.c)(R.updateAuthState(w));case 26:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),$t)}function la(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("register",U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.c)(R.storeRegistrationDetails(t.payload.settings));case 2:return e.next=4,Object(Zt.c)(R.updateAuthState(g));case 4:return e.next=6,Object(Zt.b)((function(){return Te()({method:"POST",url:T("register-email"),withCredentials:!0,validateStatus:function(){return!0},data:{settings:t.payload.settings}})}));case 6:if(a=e.sent,!N(a)){e.next=18;break}return e.next=10,Object(Zt.c)(R.storeRegistrationDetails(null));case 10:return e.next=12,Object(Zt.d)(oa);case 12:if(!(n=e.sent)){e.next=16;break}return e.next=16,Object(Zt.c)(R.handleShareCode(n));case 16:return e.next=18,Object(Zt.c)(R.updateCurrentUser(a.data.user));case 18:if(!D(a)){e.next=21;break}return e.next=21,Object(Zt.c)(R.updateAuthState(w));case 21:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),ea)}function ia(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("get_current_user",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"GET",url:T("get-user"),withCredentials:!0,validateStatus:function(){return!0}})}));case 2:if(a=e.sent,!N){e.next=8;break}return e.next=6,Object(Zt.c)(R.updateAuthState(b));case 6:return e.next=8,Object(Zt.c)(R.updateCurrentUser(a.data.user));case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),ta)}function ca(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("logout",U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Zt.b)((function(){return Te()({method:"GET",url:T("logout"),withCredentials:!0,validateStatus:function(){return!0}})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:return e.prev=8,document.cookie="tsf_jwt=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",e.next=12,Object(Zt.c)(R.storeLogout());case 12:return e.finish(8);case 13:case"end":return e.stop()}}),e,null,[[0,5,8,13]])})));case 2:case"end":return e.stop()}}),aa)}function ua(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("update_user_password",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"POST",url:T("reset-password"),data:{token:t.payload.token,password:t.payload.password},validateStatus:function(){return!0}})}));case 2:if(a=e.sent,!N(a)){e.next=8;break}return e.next=6,Object(Zt.c)(R.updateCurrentUser(a.data.user));case 6:e.next=11;break;case 8:if("invalid token"!==a.data){e.next=11;break}return e.next=11,Object(Zt.c)(R.updateAuthState(S));case 11:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),na)}function da(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("get_password_reset_token",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"POST",url:T("forgot-password"),data:{email:t.payload.email},validateStatus:function(){return!0}})}));case 2:if(a=e.sent,!N(a)){e.next=6;break}return e.next=6,Object(Zt.c)(R.updateAuthState(k));case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),ra)}var ma=[ca(),ia(),ua(),da(),sa(),la()],ha=U.a.mark(pa);function pa(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("request_john_hopkins_data_summary_world",U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te.a.get("https://api.covid19api.com/world/total").catch((function(e){return console.log(e)}))}));case 2:if(a=e.sent,!N(a)){e.next=9;break}return n={totalDead:a.data.TotalDeaths,totalConfirmed:a.data.TotalConfirmed,totalRecovered:a.data.TotalRecovered},e.next=7,Object(Zt.c)(R.storeJHCovidData(n));case 7:e.next=10;break;case 9:console.log(a);case 10:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),ha)}var fa=[pa()],va=U.a.mark(ka),ya=U.a.mark(Sa),ba=U.a.mark(Ca),ga=U.a.mark(Oa),Ea=U.a.mark(ja),wa=U.a.mark(Aa);function ka(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("submit_covid_report",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"POST",url:T("submit-report"),data:t.payload,withCredentials:!0,validateStatus:function(){return!0}}).catch((function(e){console.log(e)}))}));case 2:if(a=e.sent,!N(a)){e.next=8;break}return e.next=6,Object(Zt.c)(R.storeCovidInstance(a.data.covid_instance));case 6:return e.next=8,Object(Zt.c)(R.deleteSelectedState());case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),va)}function Sa(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("submit_contact_form",U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"POST",url:T("new-contact-form-submission"),data:t.payload,validateStatus:function(){return!0}})}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),ya)}function Ca(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("save_settings",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"POST",url:T("update-settings"),data:t.payload.settings,withCredentials:!0,validateStatus:function(){return!0}}).catch((function(e){console.log(e)}))}));case 2:if(a=e.sent,!N(a)){e.next=6;break}return e.next=6,Object(Zt.c)(R.updateCurrentUser(a.data.user));case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),ba)}function Oa(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("submit_tested_pos_prev",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"POST",url:T("tested-pos-previously"),data:{previously_tested_positive:t.payload.previously_tested_positive,date:t.payload.date},withCredentials:!0,validateStatus:function(){return!0}})}));case 2:if(a=e.sent,!N(a)){e.next=6;break}return e.next=6,Object(Zt.c)(R.storeTestedPosPrev(t.payload.previously_tested_positive));case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),ga)}function ja(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("delete_account",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"GET",url:T("delete-my-data"),withCredentials:!0,validateStatus:function(){return!0}})}));case 2:if(a=e.sent,!N(a)){e.next=6;break}return e.next=6,Object(Zt.c)(R.storeLogout());case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Ea)}function Aa(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("update_legal_consent",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"GET",url:T("update-legal-consent"),withCredentials:!0,validateStatus:function(){return!0}})}));case 2:if(a=e.sent,!N(a)){e.next=6;break}return e.next=6,Object(Zt.c)(R.storeCurrentLegalConsent());case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),wa)}var Ta=[ka(),Sa(),Ca(),Oa(),ja(),Aa()],xa=U.a.mark(_a),Na=U.a.mark(Ba),Da=U.a.mark(La),Pa=U.a.mark(Ua),Ra=U.a.mark(Wa),Ma=function(e){return e.user.authenticated},Ia=function(e){return e.user.profile.id},Fa=function(e){return e.sharing.tempScanConfirmToken};function _a(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("handle_share_code",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.d)(Ma);case 2:if(!e.sent){e.next=12;break}return e.next=6,Object(Zt.b)((function(){return Te()({method:"POST",url:T("run-connect-token"),data:{token:t.payload.shareCode},withCredentials:!0,validateStatus:function(){return!0}})}));case 6:if(a=e.sent,!N(a)){e.next=12;break}return e.next=10,Object(Zt.c)(R.clearShareCode());case 10:return e.next=12,Object(Zt.c)(R.getUserContacts());case 12:return e.next=14,Object(Zt.c)(R.saveShareCode(t.payload.shareCode));case 14:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),xa)}function Ba(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("get_user_share_code",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.d)(Ia);case 2:return e.sent,e.next=5,Object(Zt.b)((function(){return Te()({method:"GET",url:T("get-connect-token"),withCredentials:!0,validateStatus:function(){return!0}})}));case 5:return a=e.sent,e.next=8,Object(Zt.c)(R.storeUserShareCode(a.data.token));case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Na)}function La(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("get_user_contacts",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"GET",url:T("get-user-connections"),withCredentials:!0,validateStatus:function(){return!0}})}));case 2:return a=e.sent,e.next=5,Object(Zt.c)(R.storeUserContacts(a.data));case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Da)}function Ua(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("get_token_owner",U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.b)((function(){return Te()({method:"POST",url:T("reveal-connect-token"),withCredentials:!0,data:{token:t.payload.token},validateStatus:function(){return!0}})}));case 2:if(a=e.sent,!N(a)){e.next=6;break}return e.next=6,Object(Zt.c)(R.storeScannedProfileResult(a.data.profile,a.data.confirmToken));case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Pa)}function Wa(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.e)("confirm_connection",U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.d)(Fa);case 2:return a=e.sent,e.next=5,Object(Zt.b)((function(){return Te()({method:"POST",url:T("confirm-connection"),withCredentials:!0,data:{id:t.payload.id,token:a},validateStatus:function(){return!0}})}));case 5:if(n=e.sent,!N(n)){e.next=9;break}return e.next=9,Object(Zt.c)(R.storeConnection(n.data.profile));case 9:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Ra)}var Ga=[_a(),Ba(),La(),Ua(),Wa()],Ha=U.a.mark(Ya);function Ya(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.a)([].concat(fa,ma,Ta,Ga));case 2:case"end":return e.stop()}}),Ha)}var Xa=a(119),Va=a(73),za=Object(l.a)(),Ja=Object(Xa.a)(),qa=Object(Et.e)(Kt(za),Object(Et.a)(Ja));Ja.run(Ya),Va.a.initialize(""),za.listen((function(e){var t;try{t=e.pathname.split(/#?/)[0]}catch(a){t=window.location.pathname}Va.a.set({page:t}),Va.a.pageview(t)})),s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:qa},r.a.createElement(i.a,{history:za},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/*",children:r.a.createElement(gt,null)}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[122,1,2]]]);
//# sourceMappingURL=main.2c42747c.chunk.js.map